<div class="flex">
  <!-- Posts section (left side) -->
  <div class="w-2/3 pr-4">
    {{#if selectedPost}}
      <h2 class="text-2xl font-bold mb-4">{{selectedPost.title}}</h2>
      <article class="bg-white shadow-md rounded-lg p-4 mb-4">
        <p class="text-sm text-gray-600">by {{selectedPost.user.username}} on {{format_date selectedPost.createdAt}}</p>
        <p class="mt-2">{{selectedPost.content}}</p>
        {{#if is_owner}}
          <button
            id="edit-post-btn"
            data-post-id="{{selectedPost.id}}"
            class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 mt-4"
          >
            Edit Post
          </button>
        {{/if}}
      </article>
      {{#if logged_in}}
        <section class="mt-8">
          <h3 class="text-lg font-semibold mb-2">Add a Comment</h3>
          <form
            id="new-comment-form"
            class="space-y-4"
            action="/api/comments"
            method="post"
          >
            <div>
              <textarea
                name="content"
                placeholder="Your comment"
                required
                class="w-full px-3 py-2 border rounded-md h-32"
              ></textarea>
            </div>
            <input type="hidden" name="post_id" value="{{selectedPost.id}}" />
            <button
              type="submit"
              class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600"
            >
              Submit Comment
            </button>
          </form>
        </section>
      {{/if}}
      {{> comments comments=selectedPost.comments}}
    {{else}}
      {{> posts posts=posts}}
    {{/if}}
  </div>
  <!-- Sidebar (right side) -->
  <div class="w-1/3 pl-4">
    <button id="create-post-btn" class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 mt-4">
      Create New Post
    </button>
  </div>
</div>

{{> modal}}